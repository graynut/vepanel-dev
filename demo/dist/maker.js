define(["vepanel","module","curd-maker"],function(t,e,r){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var n=e.uri.split("?")[0].split("/"),o=n.pop(),i=(n=n.join("/")+(o.endsWith(".js")?"":"/"+o)+"/",{components:{curdMaker:r.curdMaker},data:function(){return{form:{}}},methods:{clear:function(){this.$refs.maker.clear()},preview:function(){this.$refs.maker.preview()},save:function(){var t=this,e=this.$refs.maker.getForm();e.fields.length?this.$prompt("请输名称 (将保存到 Web SQL)","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPlaceholder:"最好是 3 ~ 5 个字符",inputPattern:/\s*\S+?/,inputErrorMessage:"名称不能为空"}).then(function(r){var n=r.value;n=n.trim(),t.$admin.postJson("form/save",{name:n,form:e}).then(function(e){t.$root.reloadMenu()})}).catch(function(){}):this.$admin.alert("表单为空")}}});return(0,t.n)({render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("curd-maker",{ref:"maker",attrs:{form:t.form,"edit-model":""},scopedSlots:t._u([{key:"tools",fn:function(){return[r("span",[r("el-button",{attrs:{type:"text"},on:{click:t.clear}},[t._v("清空")]),r("el-button",{attrs:{type:"text"},on:{click:t.preview}},[t._v("预览")]),r("el-button",{attrs:{type:"text"},on:{click:t.save}},[t._v("保存")])],1)]},proxy:!0}])})},staticRenderFns:[]},void 0,i,void 0,!1,void 0,!1,void 0,void 0,void 0)});