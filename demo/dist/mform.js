define(["vepanel","module","curd"],function(i,t,o){"use strict";o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;var r=t.uri.split("?")[0].split("/"),n=r.pop(),e=(r=r.join("/")+(n.endsWith(".js")?"":"/"+n)+"/",{components:{curdForm:o.curdForm},data:function(){return{loading:!0,form:{}}},watch:{$route:{handler:"loadForm",immediate:!0}},methods:{loadForm:function(i){var t=this,o=i.fullPath.split("/");if("mform"===o[1]){var r=parseInt(o[2]);if(r!==this.$_id){if(this.$_formCache||(this.$_formCache={}),r in this.$_formCache)return this.loading=!0,void this.$nextTick(function(){t.$_id=r,t.form=t.$_formCache[r],t.loading=!1});this.loading=!0,this.$admin.fetchJson("form/get?id="+r).then(function(i){t.$_id=r,t.form=i,t.$_formCache[r]=i,t.loading=!1})}}},onSubmit:function(i,t){console.log(i),setTimeout(t,1200)}}});return(0,i.n)({render:function(){var i=this.$createElement,t=this._self._c||i;return t("div",{staticClass:"app-form"},[this.loading?t("app-loading"):t("curd-form",this._b({ref:"curdForm",on:{submit:this.onSubmit}},"curd-form",this.form,!1))],1)},staticRenderFns:[]},void 0,e,void 0,!1,void 0,!1,void 0,void 0,void 0)});