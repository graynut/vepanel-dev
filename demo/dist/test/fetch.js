define(["vepanel","module"],function(t,n){"use strict";var e=n.uri.split("?")[0].split("/"),o=e.pop(),r=(e=e.join("/")+(o.endsWith(".js")?"":"/"+o)+"/",{data:function(){return{errorGet:!1,errorPost:!1,infoGet:null,infoPost:null,infoFull:null,infoError:null,infoMock:null}},methods:{testGet:function(t){var n=this;this.$admin.fetchJson(t,{alertError:!!this.errorGet||null}).then(function(t){n.infoGet=t})},testPost:function(t){var n=this;this.errorPost?this.$admin.fetch(t,{method:"POST",alertError:!1},!0).then(function(t){n.infoPost=t}):this.$admin.postJson(t).then(function(t){n.infoPost=t})},testGuard:function(){var t=this;this.$admin.fetchJson("fetch_yes",{guard:!1}).then(function(n){t.infoFull=n})},testHandleError:function(){var t=this;this.$admin.fetchJson("fetch_no",{handleError:!1}).catch(function(n){console.log(n),t.infoError=n})},testMock:function(){var t=this;this.$admin.fetchJson("fetch_mock").then(function(n){t.infoMock=n})}}}),i=function(t){t&&t("data-v-2ce3460e_0",{source:".app-main .el-row[data-v-2ce3460e]{padding:20px 0}",map:void 0,media:void 0})};return(0,t.n)({render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"app-main"},[e("el-card",{attrs:{shadow:"never",header:"$admin.fetch 测试"}},[e("el-row",[t._v(" 通过 this.$admin.fetchJson 请求服务端，会自动在顶部显示加载条，若请求错误，自动显示错误页面。 ")]),e("el-row",[e("el-button",{attrs:{type:"primary"},on:{click:function(n){return t.testGet("fetch_yes")}}},[t._v("成功的 GET 请求")]),e("el-button",{attrs:{type:"warning"},on:{click:function(n){return t.testGet("fetch_no")}}},[t._v("失败的 GET 请求")]),e("el-button",{attrs:{type:"warning"},on:{click:function(n){return t.testGet("fetch_404")}}},[t._v("GET 404")]),e("el-checkbox",{model:{value:t.errorGet,callback:function(n){t.errorGet=n},expression:"errorGet"}},[t._v("强制在失败时弹窗")]),t._v(" 测试结果："+t._s(t.infoGet)+" ")],1),e("el-row",[t._v(" 通过 this.$admin.postJson 请求服务端，同样的会显示加载条，但请求失败以弹窗形式提示。 ")]),e("el-row",[e("el-button",{attrs:{type:"primary"},on:{click:function(n){return t.testPost("fetch_yes")}}},[t._v("成功的 POST 请求")]),e("el-button",{attrs:{type:"warning"},on:{click:function(n){return t.testPost("fetch_no")}}},[t._v("失败的 POST 请求")]),e("el-button",{attrs:{type:"warning"},on:{click:function(n){return t.testPost("fetch_404")}}},[t._v("POST 404")]),e("el-checkbox",{model:{value:t.errorPost,callback:function(n){t.errorPost=n},expression:"errorPost"}},[t._v("强制在失败时显示错误页")]),t._v(" 测试结果："+t._s(t.infoPost)+" ")],1),e("el-row",[e("el-button",{attrs:{type:"primary"},on:{click:t.testGuard}},[t._v("禁用预处理")]),t._v(" 测试结果："+t._s(t.infoFull)+" ")],1),e("el-row",[e("el-button",{attrs:{type:"primary"},on:{click:t.testHandleError}},[t._v("自行 handle 异常")]),t._v(" 测试结果："+t._s(t.infoError)+" ")],1),e("el-row",[t._v(" 模拟数据测试，在开发版和生产版的返回结果是不同的 ")]),e("el-row",[e("el-button",{attrs:{type:"primary"},on:{click:t.testMock}},[t._v("测试 mock")]),t._v(" 测试结果："+t._s(t.infoMock)+" ")],1)],1)],1)},staticRenderFns:[]},i,r,"data-v-2ce3460e",!1,void 0,!1,t.c,void 0,void 0)});